(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d045d81"],{"156a":function(t,e,o){"use strict";o("ff52")},b189:function(t,e,o){"use strict";o.d(e,"a",(function(){return a})),o.d(e,"b",(function(){return s}));var i=o("b775");function a(){return Object(i["a"])({url:"/admin/fetchOptions",method:"get"})}function s(t){return Object(i["a"])({url:"/admin/fetchOptionsUp",method:"post",data:{data:t}})}},d1ee:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-container"},[o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadings,expression:"loadings"}],staticClass:"alls"},[o("el-form",{ref:"opForm",staticClass:"demo-ruleForm",attrs:{model:t.opForm,rules:t.rules,"label-width":"160px"}},[t._l(t.opForm.list_option,(function(e,i){return["post_default_cover"].includes(e.option_name)?o("el-form-item",{key:i,attrs:{label:t.statusFilter(e.option_name),prop:"list_option."+i+".option_value",rules:{required:!0,message:t.statusFilter(e.option_name)+"数据不得为空",trigger:"blur"}}},[o("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/admin/upload_img","show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[e.option_value?o("img",{staticClass:"avatar",attrs:{src:e.option_value}}):o("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1):t._e()})),t._l(t.opForm.list_option,(function(e,i){return["post_is_draft"].includes(e.option_name)?o("el-form-item",{key:i,attrs:{label:t.statusFilter(e.option_name),prop:"list_option."+i+".option_value",rules:{required:!0,message:t.statusFilter(e.option_name)+"数据不得为空",trigger:"blur"}}},[o("el-switch",{attrs:{"active-value":"yes","inactive-value":"no"},model:{value:e.option_value,callback:function(o){t.$set(e,"option_value",o)},expression:"item.option_value"}})],1):t._e()})),t._l(t.opForm.list_option,(function(e,i){return["post_is_comment"].includes(e.option_name)?o("el-form-item",{key:i,attrs:{label:t.statusFilter(e.option_name),prop:"list_option."+i+".option_value",rules:{required:!0,message:t.statusFilter(e.option_name)+"数据不得为空",trigger:"blur"}}},[o("el-switch",{attrs:{"active-value":"yes","inactive-value":"no"},model:{value:e.option_value,callback:function(o){t.$set(e,"option_value",o)},expression:"item.option_value"}})],1):t._e()})),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.optionSub("opForm")}}},[t._v("立即提交")])],1)],2)],1)])},a=[],s=o("b189"),n={name:"Options",data:function(){return{loadings:!0,opForm:{list_option:[]},rules:{},oss_select:""}},methods:{statusFilter:function(t){var e={post_default_cover:{type:"默认文章缩略图"},post_is_draft:{type:"前台发布审核"},post_is_comment:{type:"评论审核"}};return e[t].type},handleAvatarSuccess:function(t,e){200==t.status&&this.$message.success(t.msg);for(var o=0;o<this.opForm.list_option.length;o++)"post_default_cover"==this.opForm.list_option[o].option_name&&(this.opForm.list_option[o].option_value=t.files.file)},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type||"image/jpg"===t.type||"image/png"===t.type||"image/PNG"===t.type||"image/JPG"===t.type,o=t.size/1024/1024<2;return e?o?void 0:(this.$message.error("上传图片大小不能超过 2MB!"),e&&o):(this.$message.error("上传图片只能是 JPG或者PNG 格式!"),e&&o)},optionSub:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;Object(s["b"])(e.opForm.list_option).then((function(t){200==t.status&&e.$message.success(t.msg)}))}))}},created:function(){var t=this;Object(s["a"])().then((function(e){t.opForm.list_option=e.data,t.loadings=!1}))}},r=n,l=(o("156a"),o("2877")),u=Object(l["a"])(r,i,a,!1,null,null,null);e["default"]=u.exports},ff52:function(t,e,o){}}]);